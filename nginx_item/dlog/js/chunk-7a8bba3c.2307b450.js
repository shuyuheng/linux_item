(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7a8bba3c"],{"9e6d":function(t,e,i){},a6e2:function(t,e,i){"use strict";var a=i("9e6d"),s=i.n(a);s.a},d31a:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"Cucoloris"},[i("i",{staticClass:"el-icon-back allback",on:{click:function(e){return t.$emit("back")}}}),i("div",{staticClass:"pubuliu"},[t._l(t.imgdata,(function(e,a){return i("div",{key:a,class:["item","false"!=e.isdel?"isdeletei":""]},[i("div",{class:{zhezao:!0,show:t.showdelete}},[i("el-popconfirm",{staticClass:"delete",attrs:{title:"您确定要删除这张剪影吗？"},on:{onConfirm:function(i){return t.deleteimg(a,e.id)}}},[i("el-button",{attrs:{slot:"reference",type:"danger",icon:"el-icon-delete",circle:""},slot:"reference"})],1)],1),i("div",{staticClass:"item-content"},[i("img",{staticClass:"item_img",attrs:{src:t._f("imgFilter")(e.img),alt:""},on:{click:function(i){return t.setAppimgFlage([!0,e.img])}}}),i("div",{staticClass:"img_bottom"},[t._v(" "+t._s(e.text)+" "),i("i",{class:["el-icon-apple",e.truezan?"active":"","cursorp"],on:{click:function(e){return t.iactivefn(a)}}},[i("span",{staticClass:"num"},[t._v(t._s(e.zan))])])])])])})),t.isLogin?i("div",{staticClass:"item"},[i("div",{staticClass:"item-content delete_btn",style:t.showdelete?"border-color:skyblue;background-color:#ffeebc":""},[i("el-button",{staticClass:"delete",attrs:{type:"info",icon:"el-icon-delete",circle:""},on:{click:function(e){t.showdelete=!t.showdelete}}})],1)]):t._e(),t.isLogin?i("div",{staticClass:"item"},[i("div",{staticClass:"item-content addimg"},[i("el-upload",{staticClass:"avatar-uploader cursorp",attrs:{action:t.$http.defaults.baseURL+"/uplod",name:"img","show-file-list":!1,"on-success":t.upsucceed,"on-progress":t.headupload,"on-error":t.uperror}},[t.imageUrl?i("img",{staticClass:"avatar",attrs:{src:t._f("imgFilter")(t.imageUrl)}}):i("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]),i("br"),i("i",[t._v("剪影标题：")]),i("br"),i("el-input",{staticStyle:{"margin-top":"4px"},attrs:{maxlength:"8",placeholder:"请输入8字标题",clearable:""},model:{value:t.img_title,callback:function(e){t.img_title=e},expression:"img_title"}}),i("br"),i("el-button",{staticStyle:{float:"right","margin-top":"5px"},attrs:{type:"warning",size:"mini",round:""},on:{click:t.addimg}},[t._v("保 存")])],1)]):t._e()],2)])},s=[],l=(i("a4d3"),i("4de4"),i("4160"),i("e439"),i("dbb4"),i("b64b"),i("ac1f"),i("1276"),i("159b"),i("96cf"),i("1da1")),n=i("ade3"),r=i("2f62");function o(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function u(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?o(Object(i),!0).forEach((function(e){Object(n["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var g={computed:u({},Object(r["d"])(["allnavs","isLogin","USER_ID"])),data:function(){return{imgdata:[{img:"http://192.168.0.104:7788/upload_files/2020-2-17/syh.jpg",text:"测试文本",zan:25,isdel:"false"},{img:"http://192.168.0.104:7788/upload_files/2020-2-17/hua.jpg",zan:25,isdel:"false"},{img:"http://192.168.0.104:7788/upload_files/2020-2-17/che.jpg",text:"测试文本",zan:25,isdel:"false"},{img:"http://192.168.0.104:7788/upload_files/2020-2-17/aiqing.jpg",text:"测试文本",zan:25,isdel:"false"},{img:"http://192.168.0.104:7788/upload_files/2020-2-17/gudu.jpg",text:"测试文本",zan:25,isdel:"false"},{img:"http://192.168.0.104:7788/upload_files/2020-2-17/fengjing.jpg",text:"测试文本",zan:25,isdel:"false"},{img:"http://192.168.0.104:7788/upload_files/2020-2-17/syh.jpg",text:"测试文本",zan:25,isdel:"false"},{img:"http://192.168.0.104:7788/upload_files/2020-2-17/hua.jpg",zan:25,isdel:"false"},{img:"http://192.168.0.104:7788/upload_files/2020-2-17/che.jpg",text:"测试文本",zan:25,isdel:"false"},{img:"http://192.168.0.104:7788/upload_files/2020-2-17/aiqing.jpg",text:"测试文本",zan:25,isdel:"false"},{img:"http://192.168.0.104:7788/upload_files/2020-2-17/gudu.jpg",text:"测试文本",zan:25,isdel:"false"},{img:"http://192.168.0.104:7788/upload_files/2020-2-17/fengjing.jpg",text:"测试文本",zan:25,isdel:"false"},{img:"http://192.168.0.104:7788/upload_files/2020-2-17/xiaogou.jpg",text:"测试文本",zan:25,isdel:"false"},{img:"http://192.168.0.104:7788/upload_files/2020-2-17/syh.jpg",text:"测试文本",zan:25,isdel:"false"},{img:"http://192.168.0.104:7788/upload_files/2020-2-17/hua.jpg",zan:25,isdel:"false"},{img:"http://192.168.0.104:7788/upload_files/2020-2-17/che.jpg",text:"测试文本",zan:25,isdel:"false"},{img:"http://192.168.0.104:7788/upload_files/2020-2-17/aiqing.jpg",text:"测试文本",zan:25,isdel:"false"},{img:"http://192.168.0.104:7788/upload_files/2020-2-17/gudu.jpg",text:"测试文本",zan:25,isdel:"false"},{img:"http://192.168.0.104:7788/upload_files/2020-2-17/fengjing.jpg",text:"测试文本",zan:25,isdel:"false"},{img:"http://192.168.0.104:7788/upload_files/2020-2-17/gudu.jpg",text:"测试文本",zan:25,isdel:"false"},{img:"http://192.168.0.104:7788/upload_files/2020-2-17/fengjing.jpg",text:"测试文本",zan:25,isdel:"false"},{img:"http://192.168.0.104:7788/upload_files/2020-2-17/gudu.jpg",text:"测试文本",zan:25,isdel:"false"},{img:"http://192.168.0.104:7788/upload_files/2020-2-17/fengjing.jpg",text:"测试文本",zan:25,isdel:"false"},{img:"http://192.168.0.104:7788/upload_files/2020-2-17/gudu.jpg",text:"测试文本",zan:25,isdel:"false"},{img:"http://192.168.0.104:7788/upload_files/2020-2-17/fengjing.jpg",text:"测试文本",zan:25,isdel:"false"},{img:"http://192.168.0.104:7788/upload_files/2020-2-17/gudu.jpg",text:"测试文本",zan:25,isdel:"false"},{img:"http://192.168.0.104:7788/upload_files/2020-2-17/fengjing.jpg",text:"测试文本",zan:25,isdel:"false"},{img:"http://192.168.0.104:7788/upload_files/2020-2-17/gudu.jpg",text:"测试文本",zan:25,isdel:"false"},{img:"http://192.168.0.104:7788/upload_files/2020-2-17/fengjing.jpg",text:"测试文本",zan:25,isdel:"false"},{img:"http://192.168.0.104:7788/upload_files/2020-2-17/gudu.jpg",text:"测试文本",zan:25,isdel:"false"},{img:"http://192.168.0.104:7788/upload_files/2020-2-17/fengjing.jpg",text:"测试文本",zan:25,isdel:"false"},{img:"http://192.168.0.104:7788/upload_files/2020-2-17/gudu.jpg",text:"测试文本",zan:25,isdel:"false"},{img:"http://192.168.0.104:7788/upload_files/2020-2-17/fengjing.jpg",text:"测试文本",zan:25,isdel:"false"},{img:"http://192.168.0.104:7788/upload_files/2020-2-17/gudu.jpg",text:"测试文本",zan:25,isdel:"false"},{img:"http://192.168.0.104:7788/upload_files/2020-2-17/fengjing.jpg",text:"测试文本",zan:25,isdel:"false"},{img:"http://192.168.0.104:7788/upload_files/2020-2-17/gudu.jpg",text:"测试文本",zan:25,isdel:"false"},{img:"http://192.168.0.104:7788/upload_files/2020-2-17/fengjing.jpg",text:"测试文本",zan:25,isdel:"false"}],showdelete:!1,img_title:"点个赞吧~",imageUrl:"",time:""}},methods:u({},Object(r["c"])(["setAppimgFlage","setLoadingFlage"]),{iactivefn:function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(e){var i,a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.imgdata[e].truezan){t.next=3;break}return this.$notify({title:"已经点赞过了哟~",type:"warning",customClass:"alter"}),t.abrupt("return");case 3:return i=this.imgdata[e].zan,this.imgdata[e].truezan=!0,this.imgdata[e].zan+=1,t.next=8,this.$http.post("/imgs/zan",{id:this.imgdata[e].id});case 8:a=t.sent,s=a.data,0==s.ok?(this.imgdata[e].truezan=!1,this.imgdata[e].zan=i,this.$notify.error({title:"修改失败",customClass:"alter"})):this.$notify.info({title:"感谢您的肯定",customClass:"alter"});case 11:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),load:function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(){var e,i,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log(this.USER_ID),e=this.USER_ID||sessionStorage.getItem("USER_ID")||this.$router.push("/"),this.setLoadingFlage(!0),t.next=5,this.$http.get("/imgs/"+e);case 5:i=t.sent,a=i.data,this.imgdata=a.data,this.setLoadingFlage(!1);case 9:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),deleteimg:function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(e,i){var a,s,l=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.imgdata[e].isdel=!0,t.next=3,this.$http.delete("/imgs/"+i);case 3:a=t.sent,s=a.data,0==s.ok?(setTimeout((function(){l.imgdata[e].isdel="false"}),1e3),this.$notify.error({title:"删除失败",customClass:"alter"})):(clearTimeout(this.time),this.time=setTimeout((function(){l.load()}),1e3),this.$notify.success({title:"删除成功",customClass:"alter"}));case 6:case"end":return t.stop()}}),t,this)})));function e(e,i){return t.apply(this,arguments)}return e}(),upsucceed:function(t){if(this.setLoadingFlage(!1),0==t.ok)return this.$notify.error({title:"图片不能超过4M哟",customClass:"alter"});this.imageUrl=t.src,this.$notify.success({title:"上传成功~",customClass:"alter"})},headupload:function(){this.setLoadingFlage(!0)},uperror:function(){this.setLoadingFlage(!1),this.$notify.error({title:"不明原因换个格式试一试",customClass:"alter"})},addimg:function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(){var e,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.setLoadingFlage(!0),""!=this.imageUrl){t.next=4;break}return this.setLoadingFlage(!1),t.abrupt("return",this.$notify.error({title:"请上传图片",customClass:"alter"}));case 4:return t.next=6,this.$http.post("/imgs",{img:this.imageUrl,title:this.img_title});case 6:if(e=t.sent,i=e.data,this.setLoadingFlage(!1),0!=i.ok){t.next=11;break}return t.abrupt("return",this.$notify.error({title:"保存失败~",customClass:"alter"}));case 11:this.imageUrl="",this.load(),this.$notify.success({title:"保存成功~",customClass:"alter"});case 14:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}),created:function(){sessionStorage.getItem("USER_ID")&&this.load()},mounted:function(){},watch:{allnavs:{handler:function(t){if(t.navs&&1!=t.navs.split(",")[2])return this.$router.push("/")},deep:!0},USER_ID:{handler:function(t){""!=t&&this.load()},immediate:!0}}},c=g,p=(i("a6e2"),i("2877")),d=Object(p["a"])(c,a,s,!1,null,null,null);e["default"]=d.exports}}]);
//# sourceMappingURL=chunk-7a8bba3c.2307b450.js.map